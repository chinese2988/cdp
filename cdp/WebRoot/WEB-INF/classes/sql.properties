chatjrl=select id,name,value from tjxx_zk limit 10;
uptjrl=update tjxx_zk set value\=? where id\=?;
wcrl=select rwbh as id,FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d %T') as name,(WCRL) as value FROM bfrw_zk  where FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d') like DATE_FORMAT(now(),'%Y-%m-%d')  GROUP BY FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d %T');
dwwcrl=select rwbh as id,FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d %T') as name,(WCRL) as value FROM bfrw_zk  where  FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d') like DATE_FORMAT(now(),'%Y-%m-%d') AND ZJBH in (select zjbh  from zjxx where BMBH\=?)  GROUP BY FROM_UNIXTIME(jssj/1000/1000,'%Y-%m-%d %T');
rwcrl=SELECT rwbh as id,sum(wcrl) as value,FROM_UNIXTIME(jssj/1000/1000,'%Y%m%d')  as name FROM bfrw_zk group by FROM_UNIXTIME(jssj/1000/1000,'%Y%m%d');
dwrwcrl=SELECT rwbh as id,sum(wcrl) as value,FROM_UNIXTIME(jssj/1000/1000,'%Y%m%d')  as name FROM bfrw_zk where  ZJBH in (select zjbh  from zjxx where BMBH\=?) group by FROM_UNIXTIME(jssj/1000/1000,'%Y%m%d');
ywcrl=SELECT rwbh as id,sum(wcrl) as value,FROM_UNIXTIME(jssj/1000/1000,'%Y%m')  as name FROM bfrw_zk group by FROM_UNIXTIME(jssj/1000/1000,'%Y%m');
dwywcrl=SELECT rwbh as id,sum(wcrl) as value,FROM_UNIXTIME(jssj/1000/1000,'%Y%m')  as name FROM bfrw_zk where  ZJBH in (select zjbh  from zjxx where BMBH\=?) group by FROM_UNIXTIME(jssj/1000/1000,'%Y%m');

syrl=SELECT round((SUM(IFNULL(syrl_b,0))/1024/1024/1024),2)as value,tjsj as name FROM zjxx_ls_m where tjsj >DATE_ADD(NOW() ,INTERVAL -15 MINUTE) GROUP BY tjsj order by tjsj desc;
dwsyrl=SELECT round((SUM(IFNULL(syrl_b,0))/1024/1024/1024),2)as value,tjsj as name FROM zjxx_ls_m where tjsj >DATE_ADD(NOW() ,INTERVAL -15 MINUTE) and BMBH\=? GROUP BY tjsj order by tjsj desc;
zycxx=SELECT zycmc,zrl,ROUND((syrl/ghrl)*100) AS progress,syrl,ghrl,kxrl,ROUND((SUM(syrl)/SUM(ghrl))*100) AS sylv FROM zycxx group by ZYCbh limit 0,8;
zycxxsylv2=SELECT ROUND((SUM(syrl)/SUM(ghrl))*100) AS sylv FROM zycxx;
zycxxsylv=select round((sum(syrl))/(sum(ghrl))*100) as sylv from report where tag\=1
dwxxsylv=SELECT ROUND((syrl/ghrl)*100,2) as sylv,bmbh FROM dwxx where bmbh\=?;
dwxtxxx=SELECT xtbh,xtmc,ROUND(ghrl/1024,2) as ghrl,ROUND(kxrl/1024,2) as kxrl,ROUND(syrl/1024,2) as syrl FROM xtxx where bmbh\=?;
bfrwall=select substr(rwmc,1,10) as mc,from_unixtime(jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(wcrl,0) as wcrl,rwztdm,lxdm,zycbh,YSEXECID  from bfrw_zk order by jssj desc limit 0,120;
bfrwcg=select substr(rwmc,1,10) as mc,from_unixtime(jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(wcrl,0) as wcrl,rwztdm,lxdm,zycbh,YSEXECID  from bfrw_zk where rwztdm\='\u6210\u529F'   order by jssj desc limit 0,100;
bfrwsb=select substr(rwmc,1,10) as mc,from_unixtime(jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(wcrl,0) as wcrl,rwztdm,lxdm,zycbh,YSEXECID  from bfrw_zk where rwztdm\='\u5931\u8D25'   order by jssj desc limit 0,110;
bfrwzxz=select substr(rwmc,1,10) as mc,from_unixtime(kssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(wcrl,0) as wcrl,rwztdm,lxdm,zycbh,YSEXECID  from bfrw_zxz  order by jssj desc limit 0,100;
dwbfrwall=select substr(a.rwmc,1,10) as mc,from_unixtime(a.jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(a.wcrl,0) as wcrl,a.rwztdm as rwztdm,a.lxdm as lxdm,a.zycbh as zycbh,a.YSEXECID as YSEXECID from bfrw_zk a,zjxx b where a.ZJBH\=b.ZJBH and b.BMBH\=? order by a.jssj desc limit 0,120;
dwbfrwcg=select substr(a.rwmc,1,10) as mc,from_unixtime(a.jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(a.wcrl,0) as wcrl,a.rwztdm as rwztdm,a.lxdm as lxdm,a.zycbh as zycbh,a.YSEXECID as YSEXECID from bfrw_zk a,zjxx b where a.ZJBH\=b.ZJBH and b.BMBH\=? and a.rwztdm\='\u6210\u529F' order by a.jssj desc limit 0,120;
dwbfrwsb=select substr(a.rwmc,1,10) as mc,from_unixtime(a.jssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(a.wcrl,0) as wcrl,a.rwztdm as rwztdm,a.lxdm as lxdm,a.zycbh as zycbh,a.YSEXECID as YSEXECID from bfrw_zk a,zjxx b where a.ZJBH\=b.ZJBH and b.BMBH\=? and a.rwztdm\='\u5931\u8D25' order by a.jssj desc limit 0,120;
dwbfrwzxz=select substr(a.rwmc,1,10) as mc,from_unixtime(a.kssj/1000/1000,'%Y-%m-%d %T') as sj,ifnull(a.wcrl,0) as wcrl,a.rwztdm as rwztdm,a.lxdm as lxdm,a.zycbh as zycbh,a.YSEXECID as YSEXECID from bfrw_zxz a,zjxx b where a.ZJBH\=b.ZJBH and b.BMBH\=?  order by a.kssj desc limit 0,120;

cunchu=select (select sum(ifnull(ghrl,0)) from zycxx) as sumCun,(select count(1) from dwxx) as danwei,(select count(DISTINCT(xtmc)) from xtxx) as servers,(select count(1) from zjxx) as hosts;
cunchu2=select (select sum(ifnull(ghrl,0)) from report where tag\='1') as sumCun,(select count(distinct bmbh)  from report where tag\='1') as danwei,(select count(DISTINCT(xtbh)) from report where tag\='1') as servers,(select count(1) from zjxx) as hosts;
fuwu=select  FWMLMC as name, round(sum(GHRL)/1024,2) as sumSize from xtxx GROUP by FWMLMC;
fuwu2=select  serviceName as name, round(sum(GHRL),2) as sumSize from report where tag\='1' GROUP by serviceName ;
dwfuwu=select  FWMLMC as name, round(sum(GHRL)/1024,2) as sumSize from xtxx where bmbh\=? GROUP by FWMLMC;

bfdwxx=select a.bmbh as bmbh,a.BMMC as bmmc,b.XTMC as xtmc,b.FWMLMC as fwmlmc,a.ccwz as ccwz,a.fwlx as fwlx,b.GHRL as ghrl,round(sum(c.syrl_b/1024/1024/1024),2) as syrl,b.BFCL as bfcl,b.RPO as rpo  FROM dwxx a,xtxx b,zjxx c WHERE b.BMBH=a.BMBH AND b.XTBH=c.XTBH group by b.xtbh order by b.BMBH;
bfdwxx2=select a.bmbh as bmbh,a.BMMC as bmmc,a.systemName as xtmc,a.serviceName as fwmlmc,NULL as ccwz,NULL as fwlx,a.GHRL as ghrl,syrl as syrl,a.BFCL as bfcl,a.RPO as rpo  FROM report a where tag\='1';
dwbfdwxx=select a.bmbh as bmbh,a.BMMC as bmmc,b.XTMC as xtmc,b.FWMLMC as fwmlmc,a.ccwz as ccwz,a.fwlx as fwlx,b.GHRL as ghrl,round(sum(c.syrl_b/1024/1024/1024),2) as syrl,b.BFCL as bfcl,b.RPO as rpo  FROM dwxx a,xtxx b,zjxx c WHERE b.BMBH\=a.BMBH AND b.XTBH\=c.XTBH and a.BMBH\=? group by b.xtbh order by b.BMBH;
bfrwzk=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH=d.ZJBH AND d.XTBH=c.XTBH AND d.BMBH=b.BMBH order by kssj desc limit 0,500;
dwbfrwzk=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH and d.BMBH\=? order by kssj desc limit 0,2000;
bfrwzktime=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH=d.ZJBH AND d.XTBH=c.XTBH AND d.BMBH=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") BETWEEN ? and  ? order by kssj desc ;

dwbfrwzktime=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") BETWEEN ? and  ? and d.bmbh\=? order by kssj desc ;

bfrwlog=select logId as logid,logInfo as loginfo,logDetail as logdetail,FROM_UNIXTIME(execTime/1000/1000,"%Y-%m-%d %T") as exectime from bfrw_log  where ZYCBH \=? and YSEXECID\=? ;
bfrwdw=select a.zjip as zjip,a.XTMC as xtmc,b.BMMC as bmmc from  zjxx a,dwxx b WHERE a.ZJBH\=(SELECT zjbh FROM bfrw_zk where ZYCBH \=? and YSEXECID\=?) AND a.BMBH\=b.BMBH;
zycdao=SELECT ZYCBH,ZYCMC,GHRL,SYRL,ZRL,KXRL,yzycbh from  zycxx;;
zjxxdao=select * from zjxx;
xtxxdao=select XTBH, XTMC, BMBH, BMMC, ZJHJ, GHRL, SYRL, KXRL, BFCL, PXH, HTSJ, RPO, FWMLDM, FWMLMC, yxtbh from xtxx;
dwxxdao=select * from dwxx;
treedw=SELECT DISTINCT a.ZYCBH as ZYCBH, a.BMMC as BMMC,a.GHRL as GHRL,a.SYRL as SYRL,a.BMBH as BMBH fROM  (SELECT a.ZYCBH as ZYCBH,a.ZYCMC as ZYCMC,b.BMMC as BMMC,c.XTMC as XTMC,d.ZJIP as ZJIP,b.BMBH,b.GHRL,b.SYRL  FROM zycxx a,dwxx b,xtxx c,zjxx d where a.ZYCBH=d.ZYCBH AND d.BMBH=b.BMBH AND d.XTBH=c.XTBH order by a.ZYCBH) a;
treexx=SELECT a.ZYCBH as ZYCBH,a.ZYCMC as ZYCMC,b.BMMC as BMMC,c.XTMC as XTMC,d.ZJIP as ZJIP  FROM zycxx a,dwxx b,xtxx c,zjxx d where a.ZYCBH\=d.ZYCBH AND d.BMBH\=b.BMBH AND d.XTBH\=c.XTBH order by a.ZYCBH;
treexxZ=SELECT a.ZYCBH as ZYCBH,a.ZYCMC as ZYCMC,b.BMMC as BMMC,c.XTMC as XTMC,d.ZJIP as ZJIP  FROM zycxx a,dwxx b,xtxx c,zjxx d where a.ZYCBH\=d.ZYCBH AND d.BMBH\=b.BMBH AND d.XTBH\=c.XTBH and a.zycmc\=? order by a.ZYCBH;

dwDaodwhost=SELECT XTHJ as servers,GHRL as dwsumCun,SYRL as dwsyrl,BMMC as bmmc,BMBH as bmbh FROM dwxx WHERE BMBH\=?;

sumtodaybfrw=select count(1) as s from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH=d.ZJBH AND d.XTBH=c.XTBH AND d.BMBH=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") like DATE_FORMAT(NOW(),'%Y-%m-%d') order by kssj desc ;
sumtodaybfrwcg=select sum(1) as s from bfrw_zk WHERE FROM_UNIXTIME(kssj/1000/1000,"%m-%d-%Y") like DATE_FORMAT(NOW(),'%m-%d-%Y') and rwztdm like '\u6210\u529F';
sumtodaybfrwsb=select sum(1) as s from bfrw_zk WHERE FROM_UNIXTIME(kssj/1000/1000,"%m-%d-%Y") like DATE_FORMAT(NOW(),'%m-%d-%Y') and rwztdm like '\u5931\u8D25';
sumtodaybfrwzxz=select count(*) as s from bfrw_zxz where FROM_UNIXTIME(kssj/1000/1000,'%Y-%m-%d') like (select DATE_FORMAT( now(),'%Y-%m-%d') from dual);
sumbfrwzxz=select sum(1) as s from bfrw_zxz;
sumzycsyrl=select sum(SYRL) as syrl from zycxx;
sumzycsyrl2=select sum(syrl) as syrl from report where tag\=1;
todaybfrw=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH=d.ZJBH AND d.XTBH=c.XTBH AND d.BMBH=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") like DATE_FORMAT(NOW(),'%Y-%m-%d') order by kssj desc ;
todaybfrwcg=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") like DATE_FORMAT(NOW(),'%Y-%m-%d') and rwztdm like '\u6210\u529F' order by kssj desc ;
todaybfrwsb=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zk a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") like DATE_FORMAT(NOW(),'%Y-%m-%d') and rwztdm like '\u5931\u8D25' order by kssj desc ;
todaybfrwzxz=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zxz a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH AND FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d") like DATE_FORMAT(NOW(),'%Y-%m-%d') order by kssj desc ;
ALLbfrwzxz=select b.BMMC as bmmc ,c.XTMC as xtmc ,a.rwbh as rwbh,a.rwmc as rwmc ,FROM_UNIXTIME(a.kssj/1000/1000,"%Y-%m-%d %T") as kssj,FROM_UNIXTIME(a.jssj/1000/1000,"%Y-%m-%d %T") as jssj,a.ghrl as ghrl,a.syrl as syrl ,a.kxrl as kxrl ,a.bfcl as bfcl,a.zycbh as zycbh,a.jbmc as jbmc,a.wcrl as wcrl,a.scrl as scrl,a.rwztdm as rwztdm,a.zjbh as zjbh,FROM_UNIXTIME(a.TJSJ,"%Y-%m-%d %T") as tjsj,a.lxdm as lxdm,a.ysid as ysid,a.ysip as ysip,a.ysexecid as ysexecid from bfrw_zxz a,dwxx b,xtxx c,zjxx d WHERE a.ZJBH\=d.ZJBH AND d.XTBH\=c.XTBH AND d.BMBH\=b.BMBH  order by kssj desc ;
insertReport=INSERT INTO report (xtbh,CODE,configName,manager,bmbh,bmmc,bmks,concats,telephone,systemName,serviceName,ghrl,syrl,bfcl,rpo,rto,zycbh,createTime,tag) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,(SELECT now() FROM DUAL),'1');
